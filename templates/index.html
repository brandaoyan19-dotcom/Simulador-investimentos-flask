 <!DOCTYPE html>
<html lang="pt-br">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="container">
    <h1>Simulador de Investimentos</h1>
    <p class="subtitle">Visual premium ‚Ä¢ Educativo ‚Ä¢ Simples</p>

    <form method="post">
      <label>Tipo de investimento</label>
      <select name="tipo" id="tipo" onchange="atualizarCampos()" required>
        <option value="selic">Tesouro Selic</option>
        <option value="cdi">CDB atrelado ao CDI</option>
        <option value="ipca">Tesouro IPCA+</option>
      </select>

      <div id="explicacao" class="explicacao">
        Tesouro Selic acompanha a taxa b√°sica da economia e √© indicado para reserva de emerg√™ncia.
      </div>

      <label>Valor inicial (R$)</label>
      <input type="number" name="capital" required>

      <label>Aporte mensal (R$)</label>
      <input type="number" name="aporte" required>

      <label>Per√≠odo (anos)</label>
      <input type="number" name="anos" required>

      <div id="campo_cdi" style="display:none;">
        <label>% do CDI</label>
        <input type="number" name="perc_cdi" placeholder="Ex: 110">
      </div>

      <div id="campo_ipca" style="display:none;">
        <label>IPCA adicional (%)</label>
        <input type="number" name="ipca_extra" placeholder="Ex: 5">
      </div>

      <button type="submit">Simular investimento</button>
    </form>

    {% if resultado %}
    <div class="card">
      <h2>{{ resultado.nome }}</h2>
      <p><strong>Total investido:</strong> R$ {{ resultado.investido }}</p>
      <p><strong>Valor final:</strong> R$ {{ resultado.montante }}</p>
      <p><strong>Rendimento:</strong> R$ {{ resultado.rendimento }}</p>
      <p><strong>Ganho percentual:</strong> {{ resultado.percentual }}%</p>

      <div class="vale">{{ resultado.vale }}</div>
    </div>
    {% endif %}

    <p class="exemplo">
      üí° Investimentos com const√¢ncia tendem a gerar melhores resultados no longo prazo.
    </p>
  </div>

  <script>
    function atualizarCampos() {
      const tipo = document.getElementById("tipo").value;
      const campoCDI = document.getElementById("campo_cdi");
      const campoIPCA = document.getElementById("campo_ipca");
      const explicacao = document.getElementById("explicacao");

      campoCDI.style.display = "none";
      campoIPCA.style.display = "none";

      if (tipo === "selic") {
        explicacao.innerText =
          "Tesouro Selic acompanha a taxa b√°sica da economia. Ideal para reserva de emerg√™ncia.";

      } else if (tipo === "cdi") {
        campoCDI.style.display = "block";
        explicacao.innerText =
          "CDBs atrelados ao CDI rendem uma porcentagem do CDI. Percentuais acima de 100% s√£o mais atrativos.";

      } else if (tipo === "ipca") {
        campoIPCA.style.display = "block";
        explicacao.innerText =
          "Tesouro IPCA+ protege seu poder de compra e garante rendimento acima da infla√ß√£o.";
      }
    }
  </script>
</body>
</html>