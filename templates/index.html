<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulador Financeiro</title>

  <!-- CSS será ajustado no Passo 3 -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
  <main class="app">

    <!-- CABEÇALHO -->
    <header class="header">
      <h1>Simulador Financeiro</h1>
      <p>Simule investimentos de forma simples e consciente</p>
    </header>

    <!-- FORMULÁRIO -->
    <form method="post" class="form">

      <!-- ETAPA 1 — DADOS BÁSICOS -->
      <section class="step">
        <h2>1️⃣ Dados iniciais</h2>

        <label>
          Valor inicial
          <input type="number" name="valor_inicial" placeholder="Ex: 1000" required>
          <small>Quanto você já tem para começar.</small>
        </label>

        <label>
          Aporte mensal
          <input type="number" name="aporte" placeholder="Ex: 200" required>
          <small>Quanto pretende investir todo mês.</small>
        </label>

        <label>
          Prazo (anos)
          <input type="number" name="anos" placeholder="Ex: 5" required>
          <small>Por quanto tempo pretende investir.</small>
        </label>
      </section>

      <!-- ETAPA 2 — TIPO DE INVESTIMENTO -->
      <section class="step">
        <h2>2️⃣ Tipo de investimento</h2>

        <label>
          Escolha uma opção
          <select name="tipo" id="tipo-investimento" required>
            <option value="">Selecione</option>
            <option value="selic">Tesouro Selic</option>
            <option value="ipca">Tesouro IPCA+</option>
            <option value="cdb">CDB</option>
          </select>
          <small>O tipo define como o dinheiro rende ao longo do tempo.</small>
        </label>
      </section>

      <!-- ETAPA 3 — CAMPOS CONDICIONAIS -->
      <!-- OBS: ficam INVISÍVEIS por padrão -->
      <section class="step hidden" id="campo-ipca">
        <h2>3️⃣ Detalhe do IPCA+</h2>

        <label>
          Adicional acima do IPCA (%)
          <input type="number" step="0.1" name="ipca_extra" placeholder="Ex: 5">
          <small>Ganho real acima da inflação oficial (IPCA).</small>
        </label>
      </section>

      <section class="step hidden" id="campo-cdb">
        <h2>3️⃣ Detalhe do CDB</h2>

        <label>
          Percentual do CDI (%)
          <input type="number" step="1" name="cdi" placeholder="Ex: 110">
          <small>Quanto do CDI o banco paga.</small>
        </label>
      </section>

      <!-- ETAPA 4 — AÇÃO -->
      <section class="step">
        <button type="submit">Simular investimento</button>
        <small>A simulação só acontece ao clicar no botão.</small>
      </section>

    </form>

    <!-- RESULTADO (renderizado pelo backend depois) -->
    {% if resultado %}
    <section class="resultado">
      <h2>Resultado da simulação</h2>

      <p><strong>{{ resultado.vale }}</strong></p>
      <p>{{ resultado.explicacao }}</p>

      <ul>
        <li>Total investido: R$ {{ resultado.total }}</li>
        <li>Valor final: R$ {{ resultado.final }}</li>
        <li>Rendimento: R$ {{ resultado.rendimento }} ({{ resultado.percentual }}%)</li>
      </ul>
    </section>
    {% endif %}

  </main>

  <!-- JS entra no Passo 2 -->
</body>
</html>