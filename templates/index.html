<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Simulador Educacional de Investimentos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
  <h1>Simulador Educacional de Investimentos</h1>
  <p class="sub">
    Aprenda como o tempo, os aportes e os juros fazem seu dinheiro crescer.
  </p>

  <form method="POST">
    <label>Valor inicial (R$)</label>
    <input type="number" name="valor" step="0.01" required>

    <label>Aporte mensal (R$)</label>
    <input type="number" name="aporte" step="0.01" required>

    <label>Período (anos)</label>
    <input type="number" name="tempo" required>

    <label>Tipo de investimento</label>
    <select name="tipo" id="tipo" required>
      <option value="">Selecione</option>
      <option value="cdb">CDB</option>
      <option value="ipca">IPCA+</option>
    </select>

    <div id="campo-cdb" class="hidden">
      <label>% do CDI (ex: 110)</label>
      <input type="number" name="percentual_cdi" step="0.01">
    </div>

    <div id="campo-ipca" class="hidden">
      <label>IPCA + (% ao ano)</label>
      <input type="number" name="adicional" step="0.01">
    </div>

    <button type="submit">Simular investimento</button>
  </form>

  {% if resultado %}
  <div class="resultado">
    <h2>Resultado da simulação</h2>
    <p>{{ resultado|safe }}</p>
    <p class="educativo">{{ explicacao }}</p>
  </div>
  {% endif %}
</div>

<script>
  const tipo = document.getElementById("tipo");
  const cdb = document.getElementById("campo-cdb");
  const ipca = document.getElementById("campo-ipca");

  tipo.addEventListener("change", () => {
    cdb.classList.add("hidden");
    ipca.classList.add("hidden");

    if (tipo.value === "cdb") cdb.classList.remove("hidden");
    if (tipo.value === "ipca") ipca.classList.remove("hidden");
  });
</script>

</body>
</html>