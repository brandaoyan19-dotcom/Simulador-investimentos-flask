<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulador Educacional de Investimentos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function mostrarCampos() {
            const tipo = document.getElementById("tipo").value;
            document.getElementById("ipcaCampo").style.display = tipo === "ipca" ? "block" : "none";
            document.getElementById("cdbCampo").style.display = tipo === "cdb" ? "block" : "none";
        }
    </script>
</head>
<body>

<div class="container">

    <h1>Simulador Educacional de Investimentos</h1>
    <p class="sub">Entenda, passo a passo, como seu dinheiro pode crescer ðŸ“ˆ</p>

    <form method="post">

        <div class="field">
            <label>Valor inicial</label>
            <small>ðŸ’¡ Quanto vocÃª comeÃ§a investindo</small>
            <input type="number" step="0.01" name="valor_inicial" required>
        </div>

        <div class="field">
            <label>Aporte mensal</label>
            <small>ðŸ’¡ Quanto vocÃª investe todo mÃªs</small>
            <input type="number" step="0.01" name="aporte_mensal" required>
        </div>

        <div class="field">
            <label>Tempo (anos)</label>
            <small>ðŸ’¡ Por quanto tempo o dinheiro ficarÃ¡ investido</small>
            <input type="number" name="tempo" required>
        </div>

        <div class="field">
            <label>Tipo de investimento</label>
            <small>ðŸ’¡ Cada opÃ§Ã£o tem um objetivo diferente</small>
            <select name="tipo" id="tipo" onchange="mostrarCampos()" required>
                <option value="">Selecione</option>
                <option value="selic">Tesouro Selic (seguranÃ§a)</option>
                <option value="ipca">Tesouro IPCA+ (proteÃ§Ã£o contra inflaÃ§Ã£o)</option>
                <option value="cdb">CDB (renda fixa bancÃ¡ria)</option>
            </select>
        </div>

        <div class="field" id="ipcaCampo" style="display:none;">
            <label>Adicional do IPCA (%)</label>
            <small>ðŸ’¡ Ganho acima da inflaÃ§Ã£o</small>
            <input type="number" step="0.01" name="ipca_adicional">
        </div>

        <div class="field" id="cdbCampo" style="display:none;">
            <label>% do CDI</label>
            <small>ðŸ’¡ Quanto do CDI o banco paga</small>
            <input type="number" step="1" name="cdi_percentual">
        </div>

        <button type="submit">Simular investimento</button>
    </form>

    {% if resultado %}
    <div class="resultado">
        <h2>Resultado da simulaÃ§Ã£o</h2>

        <p><strong>Total investido:</strong> R$ {{ total_investido }}</p>
        <p><strong>Valor final:</strong> R$ {{ montante }}</p>
        <p><strong>Rendimento:</strong> R$ {{ lucro }}</p>
        <p><strong>Ganho percentual:</strong> {{ percentual }}%</p>

        <h3>{{ vale_a_pena }}</h3>
        <p>{{ explicacao }}</p>
    </div>
    {% endif %}

</div>

</body>
</html>